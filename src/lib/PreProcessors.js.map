{
  "version": 3,
  "file": "preprocessors.js",
  "sourceRoot": "..\\..\\",
  "sources": [
    "src\\lib\\preprocessors.coffee"
  ],
  "names": [],
  "mappings": "AAAsB;AAEtB,OAAO,WAAP,MAAA;;AAEA,OAAA;EACC,KADD;EACQ,OADR;EACiB,UADjB;EAC6B,IAD7B;CAAA,MAAA;;AAGA,OAAA;EAAQ,MAAR;CAAA,MAAA;;AACA,OAAA;EACC,QADD;EACW,SADX;EACsB,GADtB;EAC2B,YAD3B;CAAA,MAAA;;AAGA,OAAA;EAAQ,IAAR;CAAA,MAAA,8BAXsB;;;;;AAiBtB,OAAA,IAAO,kBAAA,GAAqB,CAAC,CAAC,OAAD,EAAU,UAAV,EAAsB,QAAtB,CAAD,CAAA,GAAA;AAE5B,MAAA,KAAA,EAAA,MAAA,EAAA,IAAA,EAAA;EAAC,CAAA,CAAC,IAAD,EAAO,KAAP,CAAA,GAAgB,UAAhB;EAGA,IAAG,CAAE,IAAL;AACC,WAAO,MADR;;EAEA,IAAA,GAAO,IAAI,CAAC,WAAL,CAAA;EACP,IAAG,CAAC,IAAA,KAAQ,QAAT,CAAA,IAAsB,CAAC,IAAA,KAAQ,cAAT,CAAzB;AACC,WAAO,MADR;;EAGA,IAAG,KAAH;IACC,IAAA,CAAK,mBAAL,EAA0B,OAA1B,EADD;;EAGA,CAAC,MAAD,EAAS,GAAT,CAAA,GAAgB,IAAA,CAAK,OAAL;EAChB,IAAG,KAAH;IACC,IAAA,CAAK,iBAAL,EAAwB,MAAxB,EADD;;AAGA,SAAO;IAAC,IAAA,EAAM,MAAP;IAAe;EAAf;AAlBoB,EAjBN;;;AAuCtB,OAAA,IAAO,gBAAA,GAAmB,CAAC,CAAC,OAAD,EAAU,UAAV,EAAsB,QAAtB,CAAD,CAAA,GAAA;AAE1B,MAAA,QAAA,EAAA;EAAC,CAAA,GAAI,IAAI,WAAJ,CAAgB,OAAhB;EAEJ,QAAA,GAAW,CAAC,KAAD,EAAQ,GAAR,CAAA,GAAA;IACV,GAAA,GAAM,GAAG,CAAC,OAAJ,CAAY,IAAZ,EAAkB,KAAlB;AACN,WAAO,CAAA,YAAA,CAAA,CAAe,GAAf,CAAA,GAAA;EAFG;EAIX,CAAC,CAAC,OAAF,CAAU,oBAAV,EAAgC,QAAhC;AAEA,SAAO;IACN,IAAA,EAAM,CAAC,CAAC,QAAF,CAAA,CADA;IAEN,GAAA,EAAK,CAAC,CAAC,WAAF,CAAA;EAFC;AAVkB",
  "sourcesContent": [
    "# preprocessors.coffee\r\n\r\nimport MagicString from 'magic-string'\r\n\r\nimport {\r\n\tundef, defined, notdefined, DUMP,\r\n\t} from '@jdeighan/base-utils'\r\nimport {assert} from '@jdeighan/base-utils/exceptions'\r\nimport {\r\n\tdbgEnter, dbgReturn, dbg, setDebugging,\r\n\t} from '@jdeighan/base-utils/debug'\r\nimport {brew} from '@jdeighan/base-utils/coffee'\r\n\r\n# ---------------------------------------------------------------------------\r\n# --- As of Svelte 5.0, CoffeeScript preprocessing is no longer needed\r\n# ---------------------------------------------------------------------------\r\n\r\nexport coffeePreProcessor = ({content, attributes, filename}) =>\r\n\r\n\t{lang, debug} = attributes\r\n\r\n\t# --- If not CoffeeScript, just return undef\r\n\tif ! lang\r\n\t\treturn undef\r\n\tlang = lang.toLowerCase()\r\n\tif (lang != 'coffee') && (lang != 'coffeescript')\r\n\t\treturn undef\r\n\r\n\tif debug\r\n\t\tDUMP 'CoffeeScript code', content\r\n\r\n\t[jsCode, map] = brew(content)\r\n\tif debug\r\n\t\tDUMP 'JavaScript code', jsCode\r\n\r\n\treturn {code: jsCode, map}\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nexport i18nPreProcessor = ({content, attributes, filename}) =>\r\n\r\n\ts = new MagicString(content)\r\n\r\n\treplacer = (match, str) =>\r\n\t\tstr = str.replace(/'/g, \"\\\\'\")\r\n\t\treturn \"{translate('#{str}')}\"\r\n\r\n\ts.replace /\\u25C4(.*?)\\u25BA/g, replacer\r\n\r\n\treturn {\r\n\t\tcode: s.toString()\r\n\t\tmap: s.generateMap()\r\n\t\t}\r\n"
  ]
}